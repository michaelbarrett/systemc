//alu.h
//ALU ~ Arithmetic Logic Unit module
#include "systemc.h"

const int WORD_SIZE = 16;
const int CONTROL_SIZE = 8;

SC_MODULE(alu) {
  sc_in < sc_uint<CONTROL_SIZE> > controls; //control signals, inputs to muxes
  sc_in < sc_uint<WORD_SIZE> op1, op2>; //Rsrc and Rdest from RF
  sc_out <bool> addsub zero; //if asserted, do two's complement on inp Rsrc
  sc_out < sc_uint<WORD_SIZE> > result; //output to Rdest of RF
  
  sc_uint<WORD_SIZE> data1, data2, res;

  SC_HAS_PROCESS(alu);
  SC_HAS_PROCESS(prc);

  alu(sc_module_name name) : sc_module(name) {
    SC_METHOD(prc);
    sensitive << clock.pos();
  }
}
